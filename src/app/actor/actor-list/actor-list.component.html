<div class="content-wrapper">
  <div class="container-fluid">
    <div class="row mb-1" style="margin-bottom: 10px; margin-top: 10px;">
      <div class="col-sm-12">
        <button routerLink="/atores/novo-ator" class="btn btn-success btn-sm"><i class="fa fa-plus"></i> Novo ator</button>
        &nbsp;
        <button (click)="reloadTable()" class="btn btn-warning btn-sm"><i class="fa fa-refresh"></i> Recarregar tabela</button>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="box">
          <div class="box-header with-border">
            <h3 class="box-title"> <strong>Atores</strong> </h3>
            <div class="box-tools pull-right">
                <div class="input-group input-group-sm">
                  <input type="text" [(ngModel)]="iptFiltro" (input)="iptFiltro=$event.target.value.toUpperCase()" class="form-control" placeholder="First name...">
                  <span class="input-group-btn">
                    <button type="button" (click)="setPaginacao(lim,0)" [disabled]="iptFiltro.length < 3" class="btn btn-primary btn-flat">Filtrar</button>
                  </span>
                </div>
            </div>
            <!-- /.box-tools -->
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <div class="table-responsive">
              <table class="table no-margin">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>First name</th>
                    <th>Last name</th>
                    <th>Last update</th>
                    <th class="text-center"><i class="fa fa-pencil"></i></th>
                    <th class="text-center"><i class="fa fa-trash"></i></th>
                  </tr>
                </thead>
                <tbody *ngIf="lista.length > 0">
                  <tr *ngFor="let ator of lista">
                    <td>{{ ator.actor_id }}</td>
                    <td>{{ ator.first_name }}</td>
                    <td>{{ ator.last_name }}</td>
                    <td>{{ ator.last_update  | date: 'dd/MM/yyyy' }}</td>
                    <td class="text-center">
                      <button [routerLink]="['/atores/editar', ator.actor_id]" class="btn btn-default btn-xs"><i class="fa fa-pencil"></i> Editar</button>
                    </td>
                    <td class="text-center">
                      <button (click)="excluir(ator.actor_id, ator.first_name, ator.last_name)" class="btn btn-danger btn-xs"><i class="fa fa-trash"></i> Excluir</button>
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td class="text-right" colspan="6">
                      <ul class="pagination">
                        <li (click)="setPaginacao(lim,0)" *ngIf="pag >= 1">
                          <a aria-label="Previous">
                            <span aria-hidden="true">Primeiro</span>
                          </a>
                        </li>
                        <li (click)="setPaginacao(lim,pag - 1)" *ngIf="pag >= 1">
                          <a aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                          </a>
                        </li>
                        <li *ngFor="let pagina of paginas, let i = index" 
                            [class.active]="pagina == (pag + 1)" 
                            (click)="setPaginacao(lim, pagina - 1, rangePaginas + i)">
                            <a>{{ pagina }}</a>
                        </li>
                        <li (click)="setPaginacao(lim, pag + 1)" *ngIf="(pag + 1) < totalPaginas">
                          <a aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                          </a>
                        </li>
                        <li (click)="setPaginacao(lim, totalPaginas)" *ngIf="(pag + 1) < totalPaginas">
                          <a aria-label="Next">
                            <span aria-hidden="true">Ãšltimo</span>
                          </a>
                        </li>
                      </ul>
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <!-- /.table-responsive -->
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
      </div>
    </div>
  </div>
</div>